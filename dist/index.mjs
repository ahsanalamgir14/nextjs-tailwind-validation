import T,{forwardRef,useState,createContext,useCallback,useEffect,useContext}from'react';import {jsxs,jsx}from'react/jsx-runtime';var ht=Object.defineProperty,xt=Object.defineProperties;var bt=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var _=(t,r,e)=>r in t?ht(t,r,{enumerable:true,configurable:true,writable:true,value:e}):t[r]=e,x=(t,r)=>{for(var e in r||(r={}))tt.call(r,e)&&_(t,e,r[e]);if(B)for(var e of B(r))et.call(r,e)&&_(t,e,r[e]);return t},b=(t,r)=>xt(t,bt(r));var D=(t,r)=>{var e={};for(var s in t)tt.call(t,s)&&r.indexOf(s)<0&&(e[s]=t[s]);if(t!=null&&B)for(var s of B(t))r.indexOf(s)<0&&et.call(t,s)&&(e[s]=t[s]);return e};var w=(t,r,e)=>{let s=[];if(r.required&&(!t||typeof t=="string"&&t.trim()===""))return s.push({field:e,message:`${e} is required`,type:"required"}),s;if(!t||typeof t=="string"&&t.trim()==="")return s;if(r.email&&typeof t=="string"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||s.push({field:e,message:"Please enter a valid email address",type:"email"})),r.url&&typeof t=="string")try{new URL(t);}catch(o){s.push({field:e,message:"Please enter a valid URL",type:"url"});}if(r.numeric&&typeof t=="string"&&(/^\d+(\.\d+)?$/.test(t)||s.push({field:e,message:"Please enter a valid number",type:"numeric"})),typeof t=="string"&&(r.minLength&&t.length<r.minLength&&s.push({field:e,message:`${e} must be at least ${r.minLength} characters`,type:"minLength"}),r.maxLength&&t.length>r.maxLength&&s.push({field:e,message:`${e} must be no more than ${r.maxLength} characters`,type:"maxLength"})),r.pattern&&typeof t=="string"&&((typeof r.pattern=="string"?new RegExp(r.pattern):r.pattern).test(t)||s.push({field:e,message:`${e} format is invalid`,type:"pattern"})),typeof t=="number"||typeof t=="string"&&!isNaN(Number(t))){let o=typeof t=="string"?Number(t):t;r.min!==void 0&&o<r.min&&s.push({field:e,message:`${e} must be at least ${r.min}`,type:"min"}),r.max!==void 0&&o>r.max&&s.push({field:e,message:`${e} must be no more than ${r.max}`,type:"max"});}if(r.custom){let o=r.custom(t);o&&s.push({field:e,message:o,type:"custom"});}return s},rt=(t,r)=>{let e=[];return Object.keys(r).forEach(s=>{let o=w(t[s],r[s],s);e.push(...o);}),{isValid:e.length===0,errors:e}},Lt={email:{required:true,email:true},password:{required:true,minLength:8,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]"},phone:{pattern:"^[\\+]?[1-9][\\d]{0,15}$"},url:{url:true},numeric:{numeric:true},required:{required:true}};var st=({name:t,validationRules:r,form:e})=>{var y;let s=e.values[t],o=e.errors[t]||[],d=e.touched[t]||false,l=e.dirty[t]||false,m=useCallback(p=>{e.setValue(t,p);},[e,t]),h=useCallback(p=>{e.setTouched(t,p);},[e,t]),i=useCallback(()=>{if(!r)return  true;let p=w(s,r,t);return e.setError(t,p[0]||null),p.length===0},[r,s,t,e]),u=useCallback(()=>{e.setValue(t,e.values[t]),e.setTouched(t,false),e.setDirty(t,false);},[e,t]);return {value:s,error:((y=o[0])==null?void 0:y.message)||null,errors:o.map(p=>p.message),touched:d,dirty:l,setValue:m,setTouched:h,validate:i,reset:u}};var A=forwardRef((Z,P)=>{var N=Z,{name:t,type:r="text",label:e,placeholder:s,required:o,disabled:d,className:l="",errorClassName:m="",successClassName:h="",validationRules:i,form:u,showError:y=true,showSuccess:p=true,onValueChange:E,children:K}=N,S=D(N,["name","type","label","placeholder","required","disabled","className","errorClassName","successClassName","validationRules","form","showError","showSuccess","onValueChange","children"]);var j,X,Y;let[F,C]=useState(""),[G,O]=useState(false),[J,Q]=useState([]),f=u?st({name:t,validationRules:i,form:u}):null,I=(j=f==null?void 0:f.value)!=null?j:F,M=(X=f==null?void 0:f.touched)!=null?X:G,n=(Y=f==null?void 0:f.errors)!=null?Y:J,c=M&&n.length>0,a=M&&!c&&I&&p,R=v=>{let g=v.target.value;if(f)f.setValue(g);else if(C(g),i){let $=[];if(i.required&&!g.trim()&&$.push(`${t} is required`),i.email&&g&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)&&$.push("Please enter a valid email address"),i.url&&g)try{new URL(g);}catch(gt){$.push("Please enter a valid URL");}i.minLength&&g.length<i.minLength&&$.push(`${t} must be at least ${i.minLength} characters`),i.maxLength&&g.length>i.maxLength&&$.push(`${t} must be no more than ${i.maxLength} characters`),i.pattern&&g&&((typeof i.pattern=="string"?new RegExp(i.pattern):i.pattern).test(g)||$.push(`${t} format is invalid`)),Q($);}E==null||E(g);},ut=()=>{f?f.setTouched(true):O(true);},dt=()=>{f?f.setTouched(true):O(true);},pt=`
      
      w-full px-3 py-2 border rounded-md shadow-sm 
      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
      disabled:bg-gray-100 disabled:cursor-not-allowed
      transition-colors duration-200
    
      ${c?"border-red-300 focus:ring-red-500 focus:border-red-500":a?"border-green-300 focus:ring-green-500 focus:border-green-500":"border-gray-300"}
      ${l}
    `,mt=`
      mt-1 text-sm text-red-600
      ${m}
    `,ft=`
      mt-1 text-sm text-green-600
      ${h}
    `;return jsxs("div",{className:"w-full",children:[e&&jsx("label",{htmlFor:t,className:`
      block text-sm font-medium text-gray-700 mb-1
      ${o?'after:content-["*"] after:ml-0.5 after:text-red-500':""}
    `,children:e}),jsxs("div",{className:"relative",children:[(()=>{let v=x({name:t,value:I,placeholder:s,disabled:d,onChange:R,onBlur:ut,onFocus:dt,className:pt},S);return r==="textarea"?jsx("textarea",b(x({},v),{ref:P,rows:4})):jsx("input",b(x({},v),{ref:P,type:r}))})(),K]}),c&&y&&jsx("div",{className:mt,children:n.map((v,g)=>jsx("div",{children:v},g))}),a&&jsx("div",{className:ft,children:"\u2713 Valid"})]})});A.displayName="ValidatedInput";var nt=t=>{let{initialValues:r,validationRules:e={},onSubmit:s,validateOnChange:o=true,validateOnBlur:d=true}=t,[l,m]=useState(r),[h,i]=useState({}),[u,y]=useState({}),[p,E]=useState({}),[K,S]=useState(false),[P,Z]=useState(false),N=Object.keys(h).length===0||Object.values(h).every(n=>n.length===0),F=useCallback(n=>{let c=e[n];return c?w(l[n],c,n):[]},[l,e]),C=useCallback(()=>rt(l,e),[l,e]),G=useCallback((n,c)=>{if(m(a=>b(x({},a),{[n]:c})),E(a=>b(x({},a),{[n]:true})),o){let a=F(n);i(R=>b(x({},R),{[n]:a}));}},[o,F]),O=useCallback((n,c)=>{i(a=>b(x({},a),{[n]:[...a[n]||[],c]}));},[]),J=useCallback((n,c)=>{if(y(a=>b(x({},a),{[n]:c})),d&&c){let a=F(n);i(R=>b(x({},R),{[n]:a}));}},[d,F]),Q=useCallback((n,c)=>{E(a=>b(x({},a),{[n]:c}));},[]),f=useCallback(n=>{if(n){let c=F(n);return i(a=>b(x({},a),{[n]:c})),{isValid:c.length===0,errors:c}}else return C()},[F,C]),I=useCallback(()=>{m(r),i({}),y({}),E({}),S(false),Z(false);},[r]),M=useCallback(async()=>{let n=C();if(!n.isValid){let c={};Object.keys(e).forEach(a=>{c[a]=true;}),y(c),i(n.errors.reduce((a,R)=>(a[R.field]||(a[R.field]=[]),a[R.field].push(R),a),{}));return}if(s){S(true);try{await s(l),Z(!0);}catch(c){console.error("Form submission error:",c);}finally{S(false);}}},[C,e,s,l]);return useEffect(()=>{m(r);},[r]),{values:l,errors:h,touched:u,dirty:p,isValid:N,isSubmitting:K,isSubmitted:P,setValue:G,setError:O,setTouched:J,setDirty:Q,validate:f,validateAll:C,reset:I,submit:M}};var it=createContext(null),at=()=>{let t=useContext(it);if(!t)throw new Error("useFormContext must be used within a ValidatedForm");return t},Wt=o=>{var d=o,{children:t,className:r="",onSubmit:e}=d,s=D(d,["children","className","onSubmit"]);let l=nt(s),m=u=>{u.preventDefault(),e?e(u):l.submit();},h=`
    space-y-6
    ${r}
  `,i=T.Children.map(t,u=>{if(T.isValidElement(u)){if(u.type===A||typeof u.type=="function"&&u.type.displayName==="ValidatedInput")return T.cloneElement(u,{form:l});if(u.props.children){let y=T.Children.map(u.props.children,p=>T.isValidElement(p)&&(p.type===A||typeof p.type=="function"&&p.type.displayName==="ValidatedInput")?T.cloneElement(p,{form:l}):p);return T.cloneElement(u,{},y)}}return u});return jsx(it.Provider,{value:l,children:jsx("form",{onSubmit:m,className:h,noValidate:true,children:i})})},jt=({children:t,className:r="",disabled:e,loadingText:s="Submitting..."})=>{let o=at(),d=`
    w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white 
    bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
    disabled:bg-gray-400 disabled:cursor-not-allowed
    transition-colors duration-200
    ${r}
  `;return jsx("button",{type:"submit",disabled:e||o.isSubmitting,className:d,children:o.isSubmitting?s:t})},Xt=({children:t,className:r="",disabled:e})=>{let s=at(),o=`
    w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 
    bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
    disabled:bg-gray-100 disabled:cursor-not-allowed
    transition-colors duration-200
    ${r}
  `;return jsx("button",{type:"button",onClick:()=>{s.reset();},disabled:e,className:o,children:t})};var ee=({error:t,errors:r,className:e="",showIcon:s=true})=>{let o=r||(t?[t]:[]);if(o.length===0)return null;let d=`
    mt-1 text-sm text-red-600
    ${e}
  `,l=`
    inline-block w-4 h-4 mr-1 text-red-500
  `;return jsx("div",{className:d,children:o.map((m,h)=>jsxs("div",{className:"flex items-start",children:[s&&jsx("svg",{className:l,fill:"currentColor",viewBox:"0 0 20 20",children:jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),jsx("span",{children:m})]},h))})};var oe=({message:t="Valid",className:r="",showIcon:e=true})=>{let s=`
    mt-1 text-sm text-green-600
    ${r}
  `;return jsx("div",{className:s,children:jsxs("div",{className:"flex items-start",children:[e&&jsx("svg",{className:`
    inline-block w-4 h-4 mr-1 text-green-500
  `,fill:"currentColor",viewBox:"0 0 20 20",children:jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),jsx("span",{children:t})]})})};var fe=t=>{let{rules:r,fieldName:e="field",validateOnChange:s=true}=t,[o,d]=useState([]),l=useCallback(i=>{let u=w(i,r,e);return s&&d(u),u},[r,e,s]),m=useCallback(()=>{d([]);},[]),h=o.length===0;return {errors:o,isValid:h,validate:l,clearErrors:m}};var Re=t=>{let e=t.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return e?`(${e[1]}) ${e[2]}-${e[3]}`:t},Ve=(t,r="USD",e="en-US")=>new Intl.NumberFormat(e,{style:"currency",currency:r}).format(t),Fe=(t,r)=>{let e=typeof t=="string"?new Date(t):t,s={year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat("en-US",r||s).format(e)},Ee=t=>{let e=t.replace(/\D/g,"").match(/.{1,4}/g);return e?e.join(" "):t},Ce=t=>{let e=t.replace(/\D/g,"").match(/^(\d{3})(\d{2})(\d{4})$/);return e?`${e[1]}-${e[2]}-${e[3]}`:t},$e=t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),we=t=>t.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substr(1).toLowerCase()),Te=(t,r,e="...")=>t.length<=r?t:t.substring(0,r)+e,ve=t=>{if(t===0)return "0 Bytes";let r=1024,e=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,s)).toFixed(2))+" "+e[s]};var Le=(t,r)=>{let e;return (...s)=>{clearTimeout(e),e=setTimeout(()=>t(...s),r);}},ct=t=>{if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array)return t.map(r=>ct(r));if(typeof t=="object"){let r={};for(let e in t)t.hasOwnProperty(e)&&(r[e]=ct(t[e]));return r}return t},Se=(t,r)=>r.split(".").reduce((e,s)=>e==null?void 0:e[s],t),Pe=(t,r,e)=>{let s=r.split("."),o=s.pop(),d=s.reduce((l,m)=>(l[m]||(l[m]={}),l[m]),t);d[o]=e;},Ne=()=>Math.random().toString(36).substr(2,9),Oe=t=>t==null?true:typeof t=="string"?t.trim()==="":Array.isArray(t)?t.length===0:typeof t=="object"?Object.keys(t).length===0:false,Ie=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),Me=t=>{try{return new URL(t),!0}catch(r){return  false}},Be=t=>!isNaN(parseFloat(t))&&isFinite(t),De=t=>Object.keys(t).filter(r=>t[r]!==null&&t[r]!==void 0).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&"),ke=t=>{let r=new URLSearchParams(t),e={};return r.forEach((s,o)=>{e[o]=s;}),e},Ae=t=>new Promise(r=>setTimeout(r,t));export{ee as ErrorMessage,Xt as ResetButton,jt as SubmitButton,oe as SuccessMessage,Wt as ValidatedForm,A as ValidatedInput,$e as capitalize,Le as debounce,ct as deepClone,Ee as formatCreditCard,Ve as formatCurrency,Fe as formatDate,ve as formatFileSize,Re as formatPhoneNumber,Ce as formatSSN,Ne as generateId,Se as getNestedValue,Oe as isEmpty,Be as isNumeric,Ie as isValidEmail,Me as isValidUrl,De as objectToQueryString,ke as queryStringToObject,Pe as setNestedValue,Ae as sleep,we as titleCase,Te as truncate,st as useField,nt as useForm,at as useFormContext,fe as useValidation,w as validateField,rt as validateForm,Lt as validationRules};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map